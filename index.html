<body>
    <script src="//unpkg.com/mithril/mithril.js"></script>
    <script>
        var root = document.body

        m.render(root, m("main", [
            m("h1", {class: "title"}, "My first app"),
            m("button", "A button")
            ]))

        
        // Components
        var count = 0 // added a variable

        var Hello = {
            view: function() {
                return m("main", [
                    m("h1", {class: "title"}, "My fourth app"),
                    // changed the next line
                    m("button", {onclick: function() {count++}}, count + " clicks"),
                ])
            }
        }

        m.mount(root, Hello)

        // Routing
        var Splash = {
            view: function() {
                return m("a", {href: "#!/hello"}, "Enter!")
            }
        }

        m.route(root, "/splash", {
            "/splash": Splash,
            "/hello": Hello,
        })

        // XHR
        var count = 0
        var increment = function() {
            m.request({
                method: "PUT",
                url: "//rem-rest-api.herokuapp.com/api/tutorial/1",
                data: {count: count + 1},
                withCredentials: true,
            })
            .then(function(data) {
                count = parseInt(data.count)
            })
        }

        var Hello2 = {
            view: function() {
                return m("main", [
                    m("h1", {class: "title"}, "My fifth app"),
                    m("button", {onclick: increment}, count + " clicks"),
                ])
            }
        }

        m.mount(root, Hello2)
    </script>

    <!-- HTML syntax via Babel's JSX plugin -->
    <main>
        <h1 class="title">My second app</h1>
        <button>B button</button>
    </main>
</body>